{
  "$defs": {
    "CondaEnv": {
      "description": "A definition of the packages that make up a conda env, and their sources.",
      "properties": {
        "channels": {
          "description": "the priority-ordered set of conda URLs of channels to get packages",
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "dependencies": {
          "description": "the names of conda packages (or a `pip:` object) to install",
          "items": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "$ref": "#/$defs/PipDeps"
              }
            ]
          },
          "type": "array"
        },
        "pypi_to_conda": {
          "description": "names of PyPI distributions to replace with their conda-forge counterparts",
          "type": "object"
        },
        "variables": {
          "additionalProperties": {
            "type": "string"
          },
          "description": "environment variables to set when the work environment is activated",
          "type": "object"
        }
      },
      "title": "CondaEnv"
    },
    "GitHub": {
      "description": "Information for how to clone the baseline and PRs for this repo\n\n",
      "properties": {
        "baseline": {
          "description": "the URL of the baseline HEAD",
          "pattern": "^(tree/[^s]+|pull/\\d+|releases/tag/[^s]+)$",
          "type": "string"
        },
        "merge_options": {
          "description": "extra options for (and requiring) the ``merge_strategy``",
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "merge_strategy": {
          "description": "a custom `--strategy` to use during `git merge`",
          "type": "string"
        },
        "merge_with": {
          "description": "an optional, ordered list of branches to merge into the `baseline`",
          "items": {
            "pattern": "^(tree/[^s]+|pull/\\d+|releases/tag/[^s]+)$",
            "type": "string"
          },
          "type": "array"
        },
        "url": {
          "description": "the URL of the repo",
          "pattern": "https://github\\.com/.*",
          "type": "string"
        }
      },
      "title": "GitHub"
    },
    "JSOptions": {
      "description": "JavaScript-related provisioning, building, and linking.\n\n",
      "properties": {
        "dependencies": {
          "description": "the names of other members of `repos` that need to built and linked into this repo in the JS environment",
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "dist_exclude_patterns": {
          "description": "regular expressions for the paths in this repo that should _not_ be built and linked in other repos",
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "install_exclude_resolutions": {
          "description": "regular expressions for the npm `@org/pkg` names that should _not_ be installed, ever, in this repo",
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "link_exclude_patterns": {
          "description": "regular expressions for the npm `@org/pkg` names that should _not_ be linked into this repo",
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "tasks": {
          "description": "task templates required to fulfill various js needs",
          "type": "object"
        }
      },
      "title": "JSOptions"
    },
    "LiteOptions": {
      "description": "options for the final jupyterlite build\n\n",
      "properties": {
        "gist": {
          "description": "a gist ID on GitHub to use as JupyterLite contents and config",
          "type": "string"
        }
      },
      "title": "LiteOptions"
    },
    "PipDeps": {
      "description": "Eject to the `pip` ecosystem.\n\n",
      "properties": {
        "pip": {
          "description": "a PEP 508 description of a pip dependency",
          "items": {
            "type": "string"
          },
          "type": "array"
        }
      },
      "title": "PipDeps"
    },
    "PythonOptions": {
      "description": "Python-related provisioning, building, and linking.\n\n",
      "properties": {
        "dependencies": {
          "description": "the names of other members of `repos` that need to built and linked into this repo in the Python environment",
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "file_dep": {
          "description": "files needed (usually created by js tasks) before and editable python install",
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "lab_extensions": {
          "description": "paths with extra file depenendencies needed to build an extension in this repo",
          "type": "object"
        },
        "modules": {
          "description": "the importable python names provided by this repo",
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "pyproject_tomls": {
          "description": "pyproject toml files for installable packages",
          "items": {
            "type": "string"
          },
          "type": "array"
        }
      },
      "title": "PythonOptions"
    },
    "Repo": {
      "description": "A description of a repo.\n\n",
      "properties": {
        "github": {
          "$ref": "#/$defs/GitHub"
        },
        "js": {
          "$ref": "#/$defs/JSOptions"
        },
        "lite": {
          "$ref": "#/$defs/RepoLiteOptions"
        },
        "name": {
          "description": "the duplicated name from the parent ``repos`` dictionary used for dependencies",
          "type": "string"
        },
        "py": {
          "$ref": "#/$defs/PythonOptions"
        },
        "variables": {
          "additionalProperties": {
            "type": "string"
          },
          "description": "environment variables to set when the work environment is activated",
          "type": "object"
        }
      },
      "title": "Repo"
    },
    "RepoLiteOptions": {
      "properties": {
        "needs_pth": {
          "description": "names of packages this repo provides that need to be installed before a lite site build",
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "skip_wheel_patterns": {
          "description": "paths to skip building wheels",
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "wheel": {
          "description": "whether to build and ship a noarch wheel for pyodide",
          "type": "boolean"
        },
        "wheel_file_dep": {
          "description": "extra files needed to build a given wheel",
          "type": "object"
        }
      },
      "title": "RepoLiteOptions"
    }
  },
  "$schema": "http://json-schema.org/draft-07/schema#",
  "description": "A description of a `jupyak` Pull request\n\n",
  "properties": {
    "env": {
      "$ref": "#/$defs/CondaEnv"
    },
    "lite": {
      "$ref": "#/$defs/LiteOptions"
    },
    "repos": {
      "additionalProperties": {
        "anyOf": [
          {
            "$ref": "#/$defs/Repo",
            "title": "custom repo",
            "type": "object"
          },
          {
            "allOf": [
              {
                "properties": {
                  "name": {
                    "const": "comm",
                    "type": "string"
                  }
                },
                "type": "object"
              },
              {
                "$ref": "#/$defs/Repo"
              }
            ],
            "default": {
              "github": {
                "baseline": "tree/main",
                "url": "https://github.com/ipython/comm"
              },
              "name": "comm"
            },
            "title": "comm"
          },
          {
            "allOf": [
              {
                "properties": {
                  "name": {
                    "const": "ipykernel",
                    "type": "string"
                  }
                },
                "type": "object"
              },
              {
                "$ref": "#/$defs/Repo"
              }
            ],
            "default": {
              "github": {
                "baseline": "tree/main",
                "url": "https://github.com/ipython/ipykernel"
              },
              "name": "ipykernel"
            },
            "title": "ipykernel"
          },
          {
            "allOf": [
              {
                "properties": {
                  "name": {
                    "const": "ipython",
                    "type": "string"
                  }
                },
                "type": "object"
              },
              {
                "$ref": "#/$defs/Repo"
              }
            ],
            "default": {
              "github": {
                "baseline": "tree/main",
                "url": "https://github.com/ipython/ipython"
              },
              "name": "ipython"
            },
            "title": "ipython"
          },
          {
            "allOf": [
              {
                "properties": {
                  "name": {
                    "const": "ipywidgets",
                    "type": "string"
                  }
                },
                "type": "object"
              },
              {
                "$ref": "#/$defs/Repo"
              }
            ],
            "default": {
              "github": {
                "baseline": "tree/main",
                "url": "https://github.com/jupyter-widgets/ipywidgets"
              },
              "name": "ipywidgets"
            },
            "title": "ipywidgets"
          },
          {
            "allOf": [
              {
                "properties": {
                  "name": {
                    "const": "jupyter_client",
                    "type": "string"
                  }
                },
                "type": "object"
              },
              {
                "$ref": "#/$defs/Repo"
              }
            ],
            "default": {
              "github": {
                "baseline": "tree/main",
                "url": "https://github.com/jupyter/jupyter_client"
              },
              "name": "jupyter_client"
            },
            "title": "jupyter_client"
          },
          {
            "allOf": [
              {
                "properties": {
                  "name": {
                    "const": "jupyter_core",
                    "type": "string"
                  }
                },
                "type": "object"
              },
              {
                "$ref": "#/$defs/Repo"
              }
            ],
            "default": {
              "github": {
                "baseline": "tree/main",
                "url": "https://github.com/jupyter/jupyter_core"
              },
              "name": "jupyter_core"
            },
            "title": "jupyter_core"
          },
          {
            "allOf": [
              {
                "properties": {
                  "name": {
                    "const": "jupyter_events",
                    "type": "string"
                  }
                },
                "type": "object"
              },
              {
                "$ref": "#/$defs/Repo"
              }
            ],
            "default": {
              "github": {
                "baseline": "tree/main",
                "url": "https://github.com/jupyter/jupyter_events"
              },
              "name": "jupyter_events"
            },
            "title": "jupyter_events"
          },
          {
            "allOf": [
              {
                "properties": {
                  "name": {
                    "const": "jupyter_server",
                    "type": "string"
                  }
                },
                "type": "object"
              },
              {
                "$ref": "#/$defs/Repo"
              }
            ],
            "default": {
              "github": {
                "baseline": "tree/main",
                "url": "https://github.com/jupyter-server/jupyter_server"
              },
              "name": "jupyter_server"
            },
            "title": "jupyter_server"
          },
          {
            "allOf": [
              {
                "properties": {
                  "name": {
                    "const": "jupyter_server_terminals",
                    "type": "string"
                  }
                },
                "type": "object"
              },
              {
                "$ref": "#/$defs/Repo"
              }
            ],
            "default": {
              "github": {
                "baseline": "tree/main",
                "url": "https://github.com/jupyter-server/jupyter_server_terminals"
              },
              "name": "jupyter_server_terminals"
            },
            "title": "jupyter_server_terminals"
          },
          {
            "allOf": [
              {
                "properties": {
                  "name": {
                    "const": "jupyterlab",
                    "type": "string"
                  }
                },
                "type": "object"
              },
              {
                "$ref": "#/$defs/Repo"
              }
            ],
            "default": {
              "github": {
                "baseline": "tree/main",
                "url": "https://github.com/jupyterlab/jupyterlab"
              },
              "name": "jupyterlab"
            },
            "title": "jupyterlab"
          },
          {
            "allOf": [
              {
                "properties": {
                  "name": {
                    "const": "jupyterlab_server",
                    "type": "string"
                  }
                },
                "type": "object"
              },
              {
                "$ref": "#/$defs/Repo"
              }
            ],
            "default": {
              "github": {
                "baseline": "tree/main",
                "url": "https://github.com/jupyterlab/jupyterlab_server"
              },
              "name": "jupyterlab_server"
            },
            "title": "jupyterlab_server"
          },
          {
            "allOf": [
              {
                "properties": {
                  "name": {
                    "const": "jupyterlite",
                    "type": "string"
                  }
                },
                "type": "object"
              },
              {
                "$ref": "#/$defs/Repo"
              }
            ],
            "default": {
              "github": {
                "baseline": "tree/main",
                "url": "https://github.com/jupyterlite/jupyterlite"
              },
              "name": "jupyterlite"
            },
            "title": "jupyterlite"
          },
          {
            "allOf": [
              {
                "properties": {
                  "name": {
                    "const": "jupyterlite_pyodide_kernel",
                    "type": "string"
                  }
                },
                "type": "object"
              },
              {
                "$ref": "#/$defs/Repo"
              }
            ],
            "default": {
              "github": {
                "baseline": "tree/main",
                "url": "https://github.com/jupyterlite/pyodide-kernel"
              },
              "name": "jupyterlite_pyodide_kernel"
            },
            "title": "jupyterlite_pyodide_kernel"
          },
          {
            "allOf": [
              {
                "properties": {
                  "name": {
                    "const": "lumino",
                    "type": "string"
                  }
                },
                "type": "object"
              },
              {
                "$ref": "#/$defs/Repo"
              }
            ],
            "default": {
              "github": {
                "baseline": "tree/main",
                "url": "https://github.com/jupyterlab/lumino"
              },
              "name": "lumino"
            },
            "title": "lumino"
          },
          {
            "allOf": [
              {
                "properties": {
                  "name": {
                    "const": "nbclient",
                    "type": "string"
                  }
                },
                "type": "object"
              },
              {
                "$ref": "#/$defs/Repo"
              }
            ],
            "default": {
              "github": {
                "baseline": "tree/main",
                "url": "https://github.com/jupyter/nbclient"
              },
              "name": "nbclient"
            },
            "title": "nbclient"
          },
          {
            "allOf": [
              {
                "properties": {
                  "name": {
                    "const": "nbconvert",
                    "type": "string"
                  }
                },
                "type": "object"
              },
              {
                "$ref": "#/$defs/Repo"
              }
            ],
            "default": {
              "github": {
                "baseline": "tree/main",
                "url": "https://github.com/jupyter/nbconvert"
              },
              "name": "nbconvert"
            },
            "title": "nbconvert"
          },
          {
            "allOf": [
              {
                "properties": {
                  "name": {
                    "const": "nbformat",
                    "type": "string"
                  }
                },
                "type": "object"
              },
              {
                "$ref": "#/$defs/Repo"
              }
            ],
            "default": {
              "github": {
                "baseline": "tree/main",
                "url": "https://github.com/jupyter/nbformat"
              },
              "name": "nbformat"
            },
            "title": "nbformat"
          },
          {
            "allOf": [
              {
                "properties": {
                  "name": {
                    "const": "notebook",
                    "type": "string"
                  }
                },
                "type": "object"
              },
              {
                "$ref": "#/$defs/Repo"
              }
            ],
            "default": {
              "github": {
                "baseline": "tree/main",
                "url": "https://github.com/jupyter/notebook"
              },
              "name": "notebook"
            },
            "title": "notebook"
          },
          {
            "allOf": [
              {
                "properties": {
                  "name": {
                    "const": "notebook_shim",
                    "type": "string"
                  }
                },
                "type": "object"
              },
              {
                "$ref": "#/$defs/Repo"
              }
            ],
            "default": {
              "github": {
                "baseline": "tree/main",
                "url": "https://github.com/jupyter/notebook_shim"
              },
              "name": "notebook_shim"
            },
            "title": "notebook_shim"
          },
          {
            "allOf": [
              {
                "properties": {
                  "name": {
                    "const": "traitlets",
                    "type": "string"
                  }
                },
                "type": "object"
              },
              {
                "$ref": "#/$defs/Repo"
              }
            ],
            "default": {
              "github": {
                "baseline": "tree/main",
                "url": "https://github.com/ipython/traitlets"
              },
              "name": "traitlets"
            },
            "title": "traitlets"
          }
        ]
      },
      "type": "object"
    }
  },
  "title": "Yak"
}